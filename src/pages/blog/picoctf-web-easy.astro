---
import BaseLayout from "../../layouts/BaseLayout.astro";
import HorizontalCard from "../../components/HorizontalCard.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const posts = await getCollection('blog/picoctf/web/easy');
  return paginate(posts, { pageSize: 10 });
}

const { page } = Astro.props;
---

<BaseLayout title="picoCTF Web (Easy) Writeups" sideBarActiveItemID="blog">
  <div class="mb-5">
    <div class="text-3xl w-full font-bold">picoCTF Web (Easy) Writeups</div>
  </div>
  {page.data.length === 0 ? (
    <p>No writeups available at the moment.</p>
  ) : (
    <ul>
      {page.data.map(post => (
        <li>
          <HorizontalCard
            title={post.data.title}
            img={post.data.heroImage}
            desc={post.data.description}
            url={"/blog/" + post.slug}
          />
        </li>
      ))}
    </ul>
  )}
</BaseLayout>
